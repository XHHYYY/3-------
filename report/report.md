# <center> 存储管理问题

[toc]

## <center>动态分区存储管理

## 一、问题描述

​		分区存储管理有固定分区和动态分区两种方法。固定分区把内存划分为若干个固定大小 的连续分区，每个分区的边界固定；而动态分区并不预先将内存事先划分成分区，当程序需 要装入内存时系统从空闲的内存区中，采用不同的分配算法分配大小等于程序所需的内存空 间。它有效地克服了固定分区方式中，由于分区内部剩余内存空置造成浪费的问题。 

​		请基于空闲内存分区链表的存储管理，设计一个动态分区存储管理程序，支持包括首次适配法、下次适配法、最佳适配法和最坏适配法在内的不同分区分配算法。

## 二、实现要求

1. 维护一个记录已分配内存分区和空闲内存分区的链表； 
2. 设计申请、释放函数循环处理用户的请求；
3. 实现首次适配法、下次适配法、最佳适配法和最坏适配法四种分区分配算法； 
4. 可视化展示内存使用情况。

## 三、实验环境

Windows操作系统，使用Python实现。

## 四、具体实现



## 五、思考题

​		基于位图和空闲链表的存储管理各有什么优劣？如果使用基于位图的存储管理，有何额 外注意事项？

答：

##### 位图：

优点：

1. 空间利用率高，可以节省内存空间，区分一个内存分配单位是否占用只需要一个1bit标志位；
2. 修改内存分配状态快，效率高，只需修改位图中对应内存的标志位即可；
3. 占据内存空间固定，与进程数无关。

缺点：

1. 需要额外维护一个进程列表与位图中坐标相对应，这样才能在释放进程时修改对应进程占据内存分配单位的标志位。
2. 固定了最小分配单位，如果最小分配单位定义不合适可能：1. 分配单位过小，位图占用内存空间过大，且一个进程可能占据很多的分配单元，修改内存分配状态效率很低（尤其是在分配新内存时需要匹配连续的空闲分配单元，设置过小可能导致匹配性能很差）；2. 分配单位过大，则某些占用内存很少的进程可能不足以占据整个分配单元，导致产生内碎片（同固定分区）。

##### 空闲链表：

优点：

1. 支持任意大小的进程
2. 链表包含了进程信息，因此释放进程时可以直接从表头开始查找到相应进程并释放，无需额外维护进程列表。
3. 占用的内存空间可以动态调整。

空闲链表的存储管理的缺点：

1. 修改内存分配情况速度较慢，涉及多个节点之间指针的修改，同时需要新申请或释放内存以产生或删除节点；
2. 查找速度慢，需要遍历整个链表；
3. 如果有大量占据内存很小的进程，链表长度可能很长，导致查找、修改性能下降，同时占据内存空间较大。

##### 使用基于位图的存储管理的注意事项：

1. 需要针对进程大小分布设计最小分配单元的大小，以避免过小或过大造成的性能影响。
2. 需要考虑数据的更新频率，选择合适的更新策略。

## 六、附录

文件结构

